(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{238:function(e,t,r){"use strict";r.r(t);var n,c=r(17),o=(r(54),{middleware:"authenticated",mounted:(n=Object(c.a)(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$cookies.get("user-cookie"),this.user=t.user.id,r="http://34.227.147.249:3001/getServices/"+t.user.id,console.log(r),e.next=7,this.$axios.$get(r);case 7:0==(n=e.sent).status&&(this.services=n.services,console.log(this.services));case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),data:function(){return{user:null,services:null,fields:[{key:"name",label:"Nombre"},{key:"actions",label:"Acciones"}],items:[]}},methods:{changeStatus:function(e,t){var r=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var c,o,l,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.$axios.$post("http://34.227.147.249:3001/updateServiceStatus",{id:e,status:t});case 2:if(c=n.sent,console.log(c),0!=c.status){n.next=14;break}return o=r.$cookies.get("user-cookie"),r.user=o.user.id,[],l="http://34.227.147.249:3001/getServices/"+o.user.id,console.log(l),n.next=12,r.$axios.$get(l);case 12:0==(v=n.sent).status?(r.services=v.services,console.log(r.services)):r.services=[];case 14:case"end":return n.stop()}}),n)})))()},deleteService:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,c,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$axios.$post("http://34.227.147.249:3001/deleteService",{id:e});case 2:if(n=r.sent,console.log(n),0!=n.status){r.next=13;break}return c=t.$cookies.get("user-cookie"),t.user=c.user.id,o="http://34.227.147.249:3001/getServices/"+c.user.id,console.log(o),r.next=11,t.$axios.$get(o);case 11:0==(l=r.sent).status?(t.services=l.services,console.log(t.services)):t.services=[];case 13:case"end":return r.stop()}}),r)})))()}}}),l=r(36),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"col-12 my-5"},[r("h2",[e._v("Mis Servicios")]),e._v(" "),r("div",{staticClass:"col-12 p-0"},[r("b-table",{attrs:{items:e.services,fields:e.fields,striped:"",responsive:"sm"},scopedSlots:e._u([{key:"cell(actions)",fn:function(data){return[data.item.status?r("b-button",{on:{click:function(t){return e.changeStatus(data.item.id,0)}}},[e._v("Pausar servicio")]):r("b-button",{on:{click:function(t){return e.changeStatus(data.item.id,1)}}},[e._v("Reactivar servicio")]),e._v(" "),r("b-button",{on:{click:function(t){return e.deleteService(data.item.id)}}},[e._v("Eliminar")]),e._v(" "),r("b-button",{attrs:{href:"/miServicios/"+data.item.id}},[e._v("Editar")])]}}])}),e._v(" "),r("div",[r("b-button",{staticClass:"float-right my-3",attrs:{href:"/crearServicio"}},[e._v("Agregar servicio")])],1)],1)])])}),[],!1,null,null,null);t.default=component.exports}}]);