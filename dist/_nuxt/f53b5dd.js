(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{237:function(t,e,o){"use strict";o.r(e);var r={middleware:"loginRedirect",layout:"login",data:function(){return{showDismissibleAlert:!1,showDismissibleAlertText:"",successAlert:!1,form:{email:"",password:""},show:!0}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$cookies.get("user-cookie");void 0!==e&&"loggedIn"in e&&1==e.loggedIn&&console.log("Logueado")}))},methods:{printRes:function(t){var e=this;0==t.data.status?(this.showDismissibleAlert=!1,this.successAlert=!0,this.$cookies.set("user-cookie",{user:t.data.user,loggedIn:!0},{path:"/",maxAge:604800}),setTimeout((function(){e.$router.push("/")}),1e3)):1==t.data.status?(this.showDismissibleAlertText="Contrase침a erronea",this.showDismissibleAlert=!0):(this.showDismissibleAlertText="Email no encontrado",this.showDismissibleAlert=!0)},onSubmit:function(t){var e=this;t.preventDefault(),this.$axios.post("/login",this.form).then((function(t){return e.printRes(t)})).catch((function(t){console.log(t)}))}}},n=o(36),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v("\n          "+t._s(t.showDismissibleAlertText)+"\n  ")]),t._v(" "),o("b-alert",{attrs:{variant:"success",show:t.successAlert}},[t._v("Usuario logueado correctamente")]),t._v(" "),o("div",{staticClass:"container my-5 justify-content-center d-flex"},[t.show?o("b-form",{staticClass:"col-4",on:{submit:t.onSubmit}},[o("b-form-group",{attrs:{id:"input-group-1",label:"Email:","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Ingrese su email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),o("b-form-group",{attrs:{id:"input-group-2",label:"Contrase침a:","label-for":"input-2"}},[o("b-form-input",{attrs:{id:"input-2",placeholder:"Ingres e su contrase침a",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),o("b-button",{staticClass:"col-12 my-2",attrs:{type:"submit",variant:"primary"}},[t._v("Iniciar sesi칩n")]),t._v(" "),o("nuxt-link",{attrs:{to:"/registro",prefetch:""}},[o("b-button",{staticClass:"col-12 text-center",attrs:{variant:"outline-primary"}},[t._v("Crear cuenta")])],1)],1):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);